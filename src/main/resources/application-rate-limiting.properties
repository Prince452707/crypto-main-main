# Rate Limiting Configuration
app.rate-limiting.global.enabled=true
app.rate-limiting.global.max-requests-per-second=5
app.rate-limiting.global.cooldown-period=PT5M
app.rate-limiting.global.fallback-to-cache=true

# Provider-specific rate limits (adjusted for free tiers)
app.rate-limiting.providers.coin-gecko.max-requests-per-minute=10
app.rate-limiting.providers.coin-gecko.rate-limit-window=PT1M
app.rate-limiting.providers.coin-gecko.backoff-delay=PT30S

app.rate-limiting.providers.coin-market-cap.max-requests-per-minute=5
app.rate-limiting.providers.coin-market-cap.rate-limit-window=PT1M
app.rate-limiting.providers.coin-market-cap.backoff-delay=PT60S

app.rate-limiting.providers.crypto-compare.max-requests-per-minute=15
app.rate-limiting.providers.crypto-compare.rate-limit-window=PT1M
app.rate-limiting.providers.crypto-compare.backoff-delay=PT30S

app.rate-limiting.providers.coin-paprika.max-requests-per-minute=8
app.rate-limiting.providers.coin-paprika.rate-limit-window=PT1M
app.rate-limiting.providers.coin-paprika.backoff-delay=PT45S

# Circuit Breaker Configuration
resilience4j.circuitbreaker.instances.api-service.failure-rate-threshold=60
resilience4j.circuitbreaker.instances.api-service.slow-call-rate-threshold=70
resilience4j.circuitbreaker.instances.api-service.slow-call-duration-threshold=5000
resilience4j.circuitbreaker.instances.api-service.minimum-number-of-calls=5
resilience4j.circuitbreaker.instances.api-service.sliding-window-size=10
resilience4j.circuitbreaker.instances.api-service.wait-duration-in-open-state=30000

# Cache Configuration for fallbacks
spring.cache.caffeine.spec=maximumSize=10000,expireAfterWrite=300s
